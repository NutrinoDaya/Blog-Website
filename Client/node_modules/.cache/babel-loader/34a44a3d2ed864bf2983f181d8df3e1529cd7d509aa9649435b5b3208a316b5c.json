{"ast":null,"code":"import _regeneratorRuntime from\"D:/Mo/Blog2/blog/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Mo/Blog2/blog/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Mo/Blog2/blog/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useEffect,useState}from\"react\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthConext=/*#__PURE__*/createContext();export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useState=useState(JSON.parse(localStorage.getItem(\"user\"))||null),_useState2=_slicedToArray(_useState,2),currUser=_useState2[0],setCurrentUser=_useState2[1];var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(inputs){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"/auth/login\",inputs);case 2:res=_context.sent;setCurrentUser(res.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function login(_x){return _ref2.apply(this,arguments);};}();var logout=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(inputs){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"/auth/logout\");case 2:setCurrentUser(null);window.location.reload();case 4:case\"end\":return _context2.stop();}},_callee2);}));return function logout(_x2){return _ref3.apply(this,arguments);};}();useEffect(function(){localStorage.setItem(\"user\",JSON.stringify(currUser));},[currUser]);return/*#__PURE__*/_jsx(AuthConext.Provider,{value:{currUser:currUser,login:login,logout:logout},children:children});};","map":{"version":3,"names":["createContext","useEffect","useState","axios","AuthConext","AuthContextProvider","children","JSON","parse","localStorage","getItem","currUser","setCurrentUser","login","inputs","post","res","data","logout","window","location","reload","setItem","stringify"],"sources":["D:/Mo/Blog2/blog/Client/src/Context/authContext.js"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\r\nimport axios from 'axios'\r\nexport const AuthConext = createContext();\r\nexport const AuthContextProvider = ({children})=>{\r\n    const [currUser,setCurrentUser] = useState(JSON.parse(localStorage.getItem(\"user\")) || null)\r\n\r\n    const login = async(inputs)=>{\r\n    const res = await axios.post(\"/auth/login\",inputs)\r\n    setCurrentUser(res.data);\r\n    };\r\n\r\n    const logout = async(inputs)=>{\r\n        await axios.post(\"/auth/logout\")\r\n        setCurrentUser(null);\r\n        window.location.reload();\r\n\r\n    };\r\n    useEffect(()=>{\r\n        localStorage.setItem(\"user\",JSON.stringify(currUser))\r\n    },[currUser])\r\n    return (\r\n        <AuthConext.Provider value={{currUser,login,logout}}>{children}</AuthConext.Provider>\r\n    )\r\n}"],"mappings":"uVAAA,OAASA,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,MAAOC,MAAK,KAAM,OAAO,4CACzB,MAAO,IAAMC,WAAU,cAAGJ,aAAa,EAAE,CACzC,MAAO,IAAMK,oBAAmB,CAAG,QAAtBA,oBAAmB,MAAiB,IAAZC,SAAQ,MAARA,QAAQ,CACzC,cAAkCJ,QAAQ,CAACK,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAI,IAAI,CAAC,wCAArFC,QAAQ,eAACC,cAAc,eAE9B,GAAMC,MAAK,6FAAG,iBAAMC,MAAM,iJACRX,MAAK,CAACY,IAAI,CAAC,aAAa,CAACD,MAAM,CAAC,QAA5CE,GAAG,eACTJ,cAAc,CAACI,GAAG,CAACC,IAAI,CAAC,CAAC,qDACxB,kBAHKJ,MAAK,6CAGV,CAED,GAAMK,OAAM,6FAAG,kBAAMJ,MAAM,8IACjBX,MAAK,CAACY,IAAI,CAAC,cAAc,CAAC,QAChCH,cAAc,CAAC,IAAI,CAAC,CACpBO,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE,CAAC,uDAE5B,kBALKH,OAAM,8CAKX,CACDjB,SAAS,CAAC,UAAI,CACVQ,YAAY,CAACa,OAAO,CAAC,MAAM,CAACf,IAAI,CAACgB,SAAS,CAACZ,QAAQ,CAAC,CAAC,CACzD,CAAC,CAAC,CAACA,QAAQ,CAAC,CAAC,CACb,mBACI,KAAC,UAAU,CAAC,QAAQ,EAAC,KAAK,CAAE,CAACA,QAAQ,CAARA,QAAQ,CAACE,KAAK,CAALA,KAAK,CAACK,MAAM,CAANA,MAAM,CAAE,UAAEZ,QAAQ,EAAuB,CAE7F,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}